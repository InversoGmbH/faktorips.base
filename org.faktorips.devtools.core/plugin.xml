<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

<!--
	Extension points
-->
   <extension-point id="artefactbuilderset" name="%artefactbuildersetname" schema="schema/artefactbuilderset.exsd"/>
   <extension-point id="objectExtensionProperty" name="ObjectExtensionProperty" schema="schema/objectExtensionProperty.exsd"/>
   <extension-point id="datatypeDefinition" name="DatatypeDefinition" schema="schema/datatypeDefintion.exsd"/>
   
<!-- 
    Product Definition Perspective
  -->
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="org.faktorips.devtools.core.IpsProductDefinitionPerspectiveFactory"
            fixed="false"
            id="org.faktorips.devtools.core.productDefinitionPerspective"
            name="%org.faktorips.devtools.core.productDefinitionPerspective">
      </perspective>
   </extension>

<!--
	Action sets
-->
   <extension
         point="org.eclipse.ui.actionSets">

      <actionSet
            id="org.faktorips.devtools.actions.ModelingActionSet"
            label="%org.faktorips.devtools.actions.ModellingActionSet"
            visible="false">
         <action
               label="New Table Structure"
               icon="icons/NewTableStructureWizard.gif"
               tooltip="New Table Structure"
               class="org.faktorips.devtools.core.ui.wizards.tablestructure.OpenNewTableStructureWizardAction"
               toolbarPath="org.faktorips.devtools"
               id="org.faktorips.devtools.actions.OpenNewTableStructureWizardAction">
         </action>
         <action
               label="New Policy Class"
               icon="icons/NewPolicyCmptTypeWizard.gif"
               tooltip="New Policy Class"
               class="org.faktorips.devtools.core.ui.wizards.policycmpttype.OpenNewPcTypeWizardAction"
               toolbarPath="org.faktorips.devtools"
               id="org.faktorips.devtools.actions.OpenNewPcTypeWizardAction">
         </action>
      </actionSet>

      <actionSet
            id="org.faktorips.devtools.actions.ProductDefinitionActionSet"
            label="%org.faktorips.devtools.actions.ProductDefinitionActionSet"
            visible="false">
         <action
               label="New Table Contents"
               icon="icons/NewTableContentsWizard.gif"
               tooltip="New Table Contents"
               class="org.faktorips.devtools.core.ui.wizards.tablecontents.OpenNewTableContentsWizardAction"
               toolbarPath="org.faktorips.devtools"
               id="org.faktorips.devtools.actions.OpenNewTableContentsWizardAction">
         </action>
         <action
               class="org.faktorips.devtools.core.ui.wizards.productcmpt.OpenNewProductCmptWizardAction"
               icon="icons/NewProductCmptWizard.gif"
               id="org.faktorips.devtools.actions.OpenNewProductCmptWizardAction"
               label="New Product Component"
               toolbarPath="org.faktorips.devtools"
               tooltip="New Product Component">
         </action>
         <action
               class="org.faktorips.devtools.core.ui.actions.ChangeWorkingDateAction"
               icon="icons/WorkingDate.gif"
               id="org.faktorips.devtools.core.ChangeWorkingDateAction"
               label="%org.faktorips.devtools.core.ChangeWorkingDateAction"
               toolbarPath="org.faktorips.devtools"
               tooltip="Change Working Date"/>
      </actionSet>
   </extension>
   

<!-- 
    Extensions to the Java perspective
  -->
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="org.eclipse.jdt.ui.JavaPerspective">
         <actionSet
               id="org.faktorips.devtools.actions.ModelingActionSet">
         </actionSet>
         <actionSet
               id="org.faktorips.devtools.actions.ProductDefinitionActionSet">
         </actionSet>
         <view
               relative="org.eclipse.jdt.ui.PackageExplorer"
               visible="false"
               relationship="stack"
               id="org.faktorips.plugin.pdexplorer">
         </view>
      </perspectiveExtension>
   </extension>
   <extension point="org.eclipse.ui.popupMenus">
    	<objectContribution id="addIpsNature" objectClass="org.eclipse.jdt.core.IJavaProject">
	    	<action id="addIpsNatureAction" class="org.faktorips.devtools.core.ui.actions.AddIpsNatureAction" menubarPath="additions" label="Add IPS-Nature" enablesFor="*" />
      		<!-- <filter name="nature" value="org.eclipse.emf.codegen.jet.IJETNature"/> -->
    	</objectContribution>
  </extension>
  
   <extension point="org.eclipse.jdt.core.classpathVariableInitializer">            
       <classpathVariableInitializer                                          
          variable="FAKTORIPS_INCLUDED_COMMONS_LANG"                                                        
          class="org.faktorips.devtools.core.FaktorIpsClasspathVariableInitializer"/>                           
       <classpathVariableInitializer                                          
          variable="FAKTORIPS_UTIL"                                                        
          class="org.faktorips.devtools.core.FaktorIpsClasspathVariableInitializer"/>                           
       <classpathVariableInitializer                                          
          variable="FAKTORIPS_UTIL_SRC"                                                        
          class="org.faktorips.devtools.core.FaktorIpsClasspathVariableInitializer"/>                           
       <classpathVariableInitializer                                          
          variable="FAKTORIPS_VALUETYPES"                                                        
          class="org.faktorips.devtools.core.FaktorIpsClasspathVariableInitializer"/>                           
       <classpathVariableInitializer                                          
          variable="FAKTORIPS_VALUETYPES_SRC"                                                        
          class="org.faktorips.devtools.core.FaktorIpsClasspathVariableInitializer"/>                           
       <classpathVariableInitializer                                          
          variable="FAKTORIPS_RUNTIME"                                                        
          class="org.faktorips.devtools.core.FaktorIpsClasspathVariableInitializer"/>                           
       <classpathVariableInitializer                                          
          variable="FAKTORIPS_RUNTIME_SRC"                                                        
          class="org.faktorips.devtools.core.FaktorIpsClasspathVariableInitializer"/>                           
   </extension>

<!-- 
    Nature and Builders
  -->
   <extension
         id="ipsnature"
         name="FaktorIPS-Nature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.faktorips.devtools.core.internal.model.IpsProject">
            <parameter
                  name="installBuilder"
                  value="true">
            </parameter>
         </run>
      </runtime>
      <builder
            id="org.faktorips.devtools.core.ipsbuilder">
      </builder>
   </extension>
   <extension
         id="ipsbuilder"
         name="FaktorIPS-Builder"
         point="org.eclipse.core.resources.builders">
      <builder
            hasNature="true">
         <run
               class="org.faktorips.devtools.core.builder.IpsBuilder">
         </run>
      </builder>
   </extension>
   
<!-- 
    Views
  -->

<!-- 
    Editors
  -->
   <extension
         point="org.eclipse.ui.editors">
      <editor
            name="Policy Class Editor"
            icon="icons/PolicyCmptType.gif"
            extensions="ipspct"
            class="org.faktorips.devtools.core.ui.editors.pctype.PctEditor"
            id="policyCmptTypeEditor">
      </editor>
      <editor
            name="Product Component Editor"
            icon="icons/ProductCmpt.gif"
            extensions="ipsproduct"
            class="org.faktorips.devtools.core.ui.editors.productcmpt.ProductCmptEditor"
            id="productCmptEditor">
      </editor>
      <editor
            name="Table Structure Editor"
            icon="icons/TableStructure.gif"
            extensions="ipstablestructure"
            class="org.faktorips.devtools.core.ui.editors.tablestructure.TableStructureEditor"
            id="tableStructureEditor">
      </editor>
      <editor
            name="Table Contents Editor"
            icon="icons/TableContents.gif"
            extensions="ipstablecontents"
            class="org.faktorips.devtools.core.ui.editors.tablecontents.TableContentsEditor"
            id="tableContentsEditor">
      </editor>
   </extension>

<!-- 
    Wizards
  -->
    <extension
        point = "org.eclipse.ui.newWizards">
	    <category
	        id = "org.faktorips.devtools"
    	    name="FaktorIPS">
	    </category>
     	<wizard
	       id = "newPcTypeWizard"
           name = "New Policy Class"
    	   class="org.faktorips.devtools.core.ui.wizards.policycmpttype.NewPcTypeWizard"
    	   category="org.faktorips.devtools"
    	   icon="icons/NewPolicyCmptTypeWizard.gif">
    	   <description>Creates a new Policy Class</description>
    	   <selection class="org.eclipse.core.resources.IResource"/>
	    </wizard>
    </extension>

<!-- 
    Preference Pages
  -->
    <extension
        point = "org.eclipse.ui.preferencePages">
        <page id="FaktorIpsPage"
        	  name="FaktorIPS"
        	  class="org.faktorips.devtools.core.ui.FaktorIpsPreferencePage">
        </page>
    </extension>
    
<!-- 
    Property Pages
    
    Note that the project property page has to be registered for IProject as well as IJavaProject, because the Package Explorer
    shows IJavaProjects while the Resource Navigator shows IProjects.
    
  -->
   <extension point="org.eclipse.ui.propertyPages"> 
        <page id="org.faktorips.projectpropertypage" 
            name="FaktorIPS" 
            objectClass="org.eclipse.core.resources.IProject" 
            class="org.faktorips.plugin.ui.IpsProjectPropertyPage"> 
         <filter
               name="nature"
               value="org.faktorips.plugin.productdefinitionnature">
         </filter>
        </page> 
    </extension> 
    
   <extension point="org.eclipse.ui.propertyPages"> 
        <page id="org.faktorips.projectpropertypage" 
            name="FaktorIPS" 
            objectClass="org.eclipse.jdt.core.IJavaProject"
            class="org.faktorips.plugin.ui.IpsProjectPropertyPage"> 
         <filter
               name="nature"
               value="org.faktorips.plugin.productdefinitionnature">
         </filter>
        </page> 
    </extension> 

<!-- 
    Default Datatypes
  -->
   <extension point="org.faktorips.devtools.core.datatypeDefinition">
      <datatypeDefinition 
      			datatypeClass="org.faktorips.datatype.classtypes.StringDatatype"
      			helperClass="org.faktorips.codegen.dthelpers.StringHelper"/>
      <datatypeDefinition 
		        datatypeClass="org.faktorips.datatype.classtypes.IntegerDatatype"
      			helperClass="org.faktorips.codegen.dthelpers.IntegerHelper"/>
      <datatypeDefinition 
		        datatypeClass="org.faktorips.datatype.classtypes.LongDatatype"
      			helperClass="org.faktorips.codegen.dthelpers.LongHelper"/>
      <datatypeDefinition 
		        datatypeClass="org.faktorips.datatype.classtypes.BooleanDatatype"
      			helperClass="org.faktorips.codegen.dthelpers.BooleanHelper"/>
      <datatypeDefinition 
		        datatypeClass="org.faktorips.datatype.classtypes.DateDatatype"
      			helperClass="org.faktorips.codegen.dthelpers.DateHelper"/>
      <datatypeDefinition 
		        datatypeClass="org.faktorips.datatype.classtypes.GregorianCalendarAsDateDatatype"
      			helperClass="org.faktorips.codegen.dthelpers.GregorianCalendarAsDateHelper"/>
      <datatypeDefinition 
		        datatypeClass="org.faktorips.datatype.classtypes.DecimalDatatype"
      			helperClass="org.faktorips.codegen.dthelpers.DecimalHelper"/>
      <datatypeDefinition 
		        datatypeClass="org.faktorips.datatype.classtypes.MoneyDatatype"
      			helperClass="org.faktorips.codegen.dthelpers.MoneyHelper"/>
      <datatypeDefinition 
		        datatypeClass="org.faktorips.datatype.classtypes.DoubleDatatype"
      			helperClass="org.faktorips.codegen.dthelpers.DoubleHelper"/>
      <datatypeDefinition 
		        datatypeClass="org.faktorips.datatype.PrimitiveBooleanDatatype"
      			helperClass="org.faktorips.codegen.dthelpers.PrimitiveBooleanHelper"/>
      <datatypeDefinition 
		        datatypeClass="org.faktorips.datatype.PrimitiveIntegerDatatype"
      			helperClass="org.faktorips.codegen.dthelpers.PrimitiveIntegerHelper"/>
   </extension>

<!-- 
  Markers
-->
   <extension point="org.eclipse.core.resources.markers" id="problemmarker" name="FaktorIPS-Problemmarker"> 
      <persistent value="true"/> 
      <super type="org.eclipse.core.resources.problemmarker"/> 
   </extension> 

  
<!-- 
  Product-Definition-Extensions
-->
   <extension
         point="org.eclipse.ui.views">
      <view
            allowMultiple="false"
            category="org.faktorips.devtools.productDefinitionCategory"
            class="org.faktorips.devtools.core.ui.views.productdefinitionexplorer.ProductExplorer"
            icon="icons/ProductDefinitionExplorer.gif"
            id="org.faktorips.devtools.core.ui.views.productDefinitionExplorer"
            name="%org.faktorips.devtools.core.ui.views.productDefinitionExplorer"/>
      <view
            allowMultiple="true"
            category="org.faktorips.devtools.productDefinitionCategory"
            class="org.faktorips.devtools.core.ui.views.productstructureexplorer.ProductStructureExplorer"
            icon="icons/ProductStructureExplorer.gif"
            id="org.faktorips.devtools.core.ui.views.productStructureExplorer"
            name="%org.faktorips.devtools.core.ui.views.productStructureExplorer"/>
      <category
            id="org.faktorips.devtools.productDefinitionCategory"
            name="%org.faktorips.devtools.productDefinitionCategory"/>
      <view
            allowMultiple="true"
            category="org.faktorips.devtools.productDefinitionCategory"
            class="org.faktorips.devtools.core.ui.views.attrtable.AttributesTable"
            id="org.faktorips.devtools.core.ui.views.attributesTable"
            name="%org.faktorips.devtools.core.ui.views.attributesTable"/>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="org.faktorips.devtools.core.productDefinitionPerspective">
         <actionSet
               id="org.faktorips.devtools.actions.ProductDefinitionActionSet">
         </actionSet>
         <view
               closeable="true"
               id="org.faktorips.devtools.core.ui.views.productDefinitionExplorer"
               moveable="true"
               relationship="left"
               relative="org.eclipse.ui.Editor"
               showTitle="true"
               standalone="false"
               visible="true"/>
         <view
               closeable="true"
               id="org.faktorips.devtools.core.ui.views.productStructureExplorer"
               moveable="true"
               relationship="bottom"
               relative="org.faktorips.devtools.core.ui.views.productDefinitionExplorer"
               showTitle="true"
               standalone="false"
               visible="true"/>
         <view
               closeable="true"
               id="org.faktorips.devtools.core.ui.views.attributesTable"
               moveable="true"
               relationship="right"
               relative="org.faktorips.devtools.core.ui.views.productDefinitionExplorer"
               showTitle="true"
               standalone="false"
               visible="false"/>
      </perspectiveExtension>
      <perspectiveExtension targetID="org.faktorips.devtools.core.departmentPerspective">
         <showInPart id="org.faktorips.devtools.core.ui.views.productDefinitionExplorer"/>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.search.searchResultViewPages">
      <viewPage
            class="org.faktorips.devtools.core.ui.search.ReferencesToProductSearchResultPage"
            id="org.faktorips.devtools.core.ui.search.ReferencesToProductSearchResult"
            searchResultClass="org.faktorips.devtools.core.ui.search.ReferencesToProductSearchResult"/>
   </extension>
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            class="org.faktorips.devtools.core.ui.FolderPropertiesPage"
            id="org.faktorips.devtools.core.folderProperties"
            name="%org.faktorips.devtools.core.folderProperties"
            objectClass="org.eclipse.core.resources.IFolder"/>
   </extension>

</plugin>
